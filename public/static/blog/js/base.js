require(["jquery"],function(a){function b(){var b=window.location.pathname,c=window.location.href,e=a(".nav_menu li");e.each(function(b,c,d){a(c).removeClass("cur")});if(0<e.length)for(var f=null,g=null,g=0===e.eq(0).children("a").attr("href").indexOf("http")?c:b,h=g.length;0<h;h--)if(e.each(function(b,c,d){a(c).children("a").attr("href")==g.substring(0,h)&&(f=c)}),null!=f){a(f).addClass("cur");break}}0<a(".nav_menu li").length?b():a(document).ready(b)});
require(["DYUtils"],function(a){a.bindEvent(document.getElementById("header_nav"),"click",a.stopBubble);a.bindEvent(document,"click",function(b){if(document.getElementById("nav_menu_checkbox").checked)return document.getElementById("nav_menu_checkbox").checked=!1,a.stopBubble(b),!1})});
require(["DYUtils","FastScroll"],function(a,b){var d=new b(document.getElementsByClassName("body")[0]);d.onScroll=function(c){var b=document.getElementById("go_to_top");c>window.screen.availHeight/2?a.addClassName(b,"show"):a.removeClassName(b,"show")};a.bindEvent(document,"click",function(a){a=a||window.event;"go_to_top"==a.target.id&&d.goTop()})});
require(["DYUtils","SpiderWeb"],function(a,b){a.DOMReady(function(){(new b(document.getElementById("background_canvas"),{radius:2.5,color:"#4c4c4c",count:200,scale:2,maxDistance:200})).start()},3E3)});
require(["DYUtils"],function(a){function b(){setTimeout(function(){a.removeClassName(a.querySelector("#container"),"init");a.setCookie("hasVisited",!0,1800,"/")},2E3)}a.DOMReady(function(){var d=a.getCookie("hasVisited"),c=a.querySelector("#header_image");d?c.style.backgroundImage="url("+c.dataset.image+")":(d=document.createElement("img"),d.onload=function(){c.style.backgroundImage="url("+c.dataset.image+")";b()},d.onerror=b,d.src=c.dataset.image)})});
require(["DYUtils"],function(a){a.ajax({url:"/hitokoto?c=a",success:function(b){json=JSON.parse(b);a.querySelector("#header_logo .sub_title").innerText="\u300e"+json.hitokoto+"\u300f";a.querySelector("#header_logo .sub_title").title="\u300a"+json.from+"\u300b"}})});
