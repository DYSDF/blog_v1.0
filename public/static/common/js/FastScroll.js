define(["DYUtils","Tween"],function(b,h){function a(e,k){if(!(e instanceof HTMLElement))throw"\u4f20\u5165\u53c2\u6570\u4e0d\u662f\u6709\u6548\u7684HTMLElement";this.target=e;this.scrollMax=this.target.scrollHeight-this.target.parentElement.clientHeight;this.totalTime=k||600;var c,f,d,g;this.onScrollEnd=function(){};this.onScroll=function(a){};b.bindEvent(this.target,"scroll",function(){this.onScroll(this.target.scrollTop)}.bind(this));b.bindEvent(document,"DOMMouseScroll mousewheel",function(){c=
!0});typeof this.goTop&&(a.prototype.goTop=function(){this.goTo(0)},a.prototype.goBottom=function(){this.goTo(this.scrollMax)},a.prototype.goTo=function(a){c=!1;f=Date.now();d=this.target.scrollTop;g=(a>this.scrollMax?this.scrollMax:0>a?0:a)-d;b.fastAnimation(function(){if(!c){var a=Date.now()-f;this.target.scrollTop=h.Cubic.easeOut(a,d,g,this.totalTime);if(a<=this.totalTime)b.fastAnimation(arguments.callee.bind(this));else this.onScrollEnd()}}.bind(this))})}window.FastScroll||(window.FastScroll=
a);return a});
