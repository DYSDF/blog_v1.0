define(["DYUtils"],function(a){function b(f){if(!(f instanceof HTMLElement)){throw"传入参数不是有效的HTMLElement"}this.target=f;var d=this.target.scrollHeight-this.target.parentElement.clientHeight,e,c;var g;this.onScrollEnd=function(){};this.onScroll=function(h){};a.bindEvent(this.target,"scroll",function(){this.onScroll(this.target.scrollTop)}.bind(this));a.bindEvent(document,"DOMMouseScroll mousewheel",function(){g=true});if(typeof this.goTop){b.prototype.goTop=function(){this.goTo(0)};b.prototype.goBottom=function(){this.goTo(d)};b.prototype.goTo=function(h){c=h>d?d:(h<0?0:h);g=false;a.fastAnimation(function(){if(g){return g=false}var j=c*1-this.target.scrollTop;if(parseInt(j)==0){return}var i=j/5;if(Math.abs(i)<1){i=Math.abs(i)/i}this.target.scrollTop+=i;if(this.target.scrollTop!=c){a.fastAnimation(arguments.callee.bind(this))}else{this.onScrollEnd()}}.bind(this))}}}if(!window.FastScroll){window.FastScroll=b}return b});