define(["DYUtils","Tween"],function(a,c){function b(h,g){if(!(h instanceof HTMLElement)){throw"传入参数不是有效的HTMLElement"}this.target=h;this.scrollMax=this.target.scrollHeight-this.target.parentElement.clientHeight;this.totalTime=g||600;var i;var f;var e;var d;this.onScrollEnd=function(){};this.onScroll=function(j){};a.bindEvent(this.target,"scroll",function(){this.onScroll(this.target.scrollTop)}.bind(this));a.bindEvent(document,"DOMMouseScroll mousewheel",function(){i=true});if(typeof this.goTop){b.prototype.goTop=function(){this.goTo(0)};b.prototype.goBottom=function(){this.goTo(this.scrollMax)};b.prototype.goTo=function(j){i=false;f=Date.now();e=this.target.scrollTop;d=(j>this.scrollMax?this.scrollMax:(j<0?0:j))-e;a.fastAnimation(function(){if(i){return}var k=Date.now()-f;this.target.scrollTop=c.Cubic.easeOut(k,e,d,this.totalTime);if(k<=this.totalTime){a.fastAnimation(arguments.callee.bind(this))}else{this.onScrollEnd()}}.bind(this))}}}if(!window.FastScroll){window.FastScroll=b}return b});