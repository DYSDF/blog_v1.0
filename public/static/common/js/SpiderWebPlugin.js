window.requestAnimationFrame=(function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1000/60)}})();define([],function(){function a(k,n){if(Object.prototype.toString.call(k)!="[object HTMLCanvasElement]"){return}function c(i){if(i&&i.stopPropagation){i.stopPropagation()}else{window.event.cancelBubble=true}}function h(z,y,i){y.split(" ").forEach(function(A){if(z.addEventListener){z.addEventListener(A,i,false)}else{if(z.attachEvent){z.attachEvent("on"+A,i)}else{z["on"+A]=i}}});return z}function q(z,y,i){y.split(" ").forEach(function(A){if(z.removeEventListener){z.removeEventListener(A,i)}else{if(z.detachEvent){z.detachEvent("on"+A,i)}else{z["on"+A]=null}}});return z}function f(y,i){return Math.sqrt(Math.pow(y.x-i.x,2)+Math.pow(y.y-i.y,2))}function o(i,D,z,B,A,C){this.x=i||0;this.y=D||0;this.vx=z*Math.cos(B)||0;this.vy=z*Math.sin(B)||0;this.r=A||2;this.color=C||"red"}var e=k.getContext("2d"),t,d,r,x=[],m=150;var u=2;var s="green";var l=10;var w=1;if(n){if(n.radius){u=n.radius}if(n.color){s=n.color}if(n.count){l=n.count}if(n.scale){w=n.scale}if(n.maxDistance){m=n.maxDistance}}k.width=t=k.offsetWidth*w;k.height=d=k.offsetHeight*w;h(window,"resize",function(){k.width=t=k.offsetWidth*w;k.height=d=k.offsetHeight*w});function g(i){r={x:i.offsetX*w,y:i.offsetY*w}}h(k,"mousemove",g);h(k,"mouseout",function(){r=null});for(var p=1;p<=l;p++){var b=Math.random();x.push(new o(Math.random()*t,Math.random()*d,1+b,Math.PI*2*b,u,s))}function v(){e.clearRect(0,0,t,d);for(var D=0;D<x.length;D++){var G=x[D];G.x+=G.vx;G.y+=G.vy;if(G.x-G.r<0){G.x=G.r;G.vx=Math.abs(G.vx)}if(G.x+G.r>t){G.x=t-G.r;G.vx=-Math.abs(G.vx)}if(G.y-G.r<0){G.y=G.r;G.vy=Math.abs(G.vy)}if(G.y+G.r>d){G.y=d-G.r;G.vy=-Math.abs(G.vy)}if(r!=null){if(f(G,r)<m*2){var E=Math.atan2(r.y-G.y,r.x-G.x);var z=G.vx*Math.cos(E)+G.vy*Math.sin(E),I=G.x*Math.cos(E)+G.y*Math.sin(E),A=G.y*Math.cos(E)-G.x*Math.sin(E);var H=r.x*Math.cos(E)+r.y*Math.sin(E);var B=I+((H-I)/m)*Math.abs(z);G.x=B*Math.cos(-E)+A*Math.sin(-E);G.y=A*Math.cos(-E)-B*Math.sin(-E);e.strokeStyle="rgba(100,100,100,"+(m*2-f(r,G))/m/2+")";e.beginPath();e.moveTo(G.x,G.y);e.lineTo(r.x,r.y);e.stroke()}}for(var C=D+1;C<x.length;C++){var F=x[C];var y=f(G,F);if(y<m){e.strokeStyle="rgba(100,100,100,"+(m-y)/m+")";e.beginPath();e.moveTo(G.x,G.y);e.lineTo(F.x,F.y);e.stroke()}}e.fillStyle=G.color;e.beginPath();e.arc(G.x,G.y,G.r,0,2*Math.PI);e.fill()}}function j(){window.requestAnimationFrame(function(){v();window.requestAnimationFrame(arguments.callee)})}return{start:j}}if(!window.SpiderWeb){window.SpiderWeb=a}return a});